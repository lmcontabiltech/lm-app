<div class="main-container">
  <div class="header-container">
    <h2>Agenda</h2>
    <div class="header-actions">
      <div class="view-toggle">
        <button
          class="toggle-btn"
          [class.active]="viewMode === 'week'"
          (click)="setView('week')"
        >
          Semana
        </button>
        <button
          class="toggle-btn"
          [class.active]="viewMode === 'month'"
          (click)="setView('month')"
        >
          Mês
        </button>
        <button
          class="toggle-btn"
          [class.active]="viewMode === 'year'"
          (click)="setView('year')"
        >
          Ano
        </button>
      </div>
      <button class="btn btn-primary" (click)="adicionarEvento()">Evento +</button>
    </div>
  </div>

  <div class="subMain-container">
    <!-- VISÃO SEMANAL -->
    <ng-container *ngIf="viewMode === 'week'">
      <app-semanal
        [weekDays]="weekDays"
        [diaSemana]="diaSemana"
        [horasDoDia]="horasDoDia"
        [hoje]="hoje"
        [getEventosNoHorario]="getEventosNoHorario.bind(this)"
        (prevPeriod)="prevPeriod()"
        (nextPeriod)="nextPeriod()"
      ></app-semanal>
    </ng-container>

    <!-- VISÃO MENSAL -->
    <ng-container *ngIf="viewMode === 'month'">
      <app-mensal
        [meses]="meses"
        [diaSemana]="diaSemana"
        [selectedMonth]="selectedMonth"
        [selectedYear]="selectedYear"
        [monthDays]="monthDays"
        [hoje]="hoje"
        [getEventosDoDia]="getEventosDoDia.bind(this)"
        (prevPeriod)="prevPeriod()"
        (nextPeriod)="nextPeriod()"
      ></app-mensal>
    </ng-container>

    <!-- VISÃO ANUAL -->
    <ng-container *ngIf="viewMode === 'year'">
      <app-anual
        [selectedYear]="selectedYear"
        [meses]="meses"
        [diaSemana]="diaSemana"
        [yearMonths]="yearMonths"
        [getMonthMatrix]="getMonthMatrix.bind(this)"
        [hoje]="hoje"
        [getEventosDoDia]="getEventosDoDia.bind(this)"
        (prevPeriod)="prevPeriod()"
        (nextPeriod)="nextPeriod()"
      ></app-anual>
    </ng-container>
  </div>
</div>

<ng-template #formCadastroTemplate>
    <div class="forms-container">
        <form class="modal-form" [formGroup]="eventoForm">
          <div class="form-group">
              <label for="titulo">Titulo</label>
              <input formControlName="titulo" type="text" />
          </div>

            <div class="form-group">
                <label for="data">Data</label>
                <input formControlName="data" type="date" />
            </div>

            <div class="input-duo">
              <div class="form-group">
                  <label for="horaInicio">Hora Início</label>
                  <input formControlName="horaInicio" type="time" />
              </div>
              <div class="form-group">
                  <label for="horaFim">Hora Fim</label>
                  <input formControlName="horaFim" type="time" />
              </div>
            </div>

            <div class="form-group">
                <label for="frequenciaEvento">Frequência do evento</label>
                <input formControlName="frequenciaEvento" type="text" />
            </div>

            <div class="input-duo">
              <div class="form-group">
                  <label for="tipo">Tipo</label>
                  <input formControlName="tipo" type="text" />
              </div>
              <div class="form-group">
                  <label for="cor">Cor</label>
                  <input formControlName="cor" type="color" />
              </div>
            </div>

            <div class="form-group">
                <label for="participantes">Participantes</label>
                <input formControlName="participantes" type="text" />
            </div>

            <div class="form-group">
                <label for="link">Link da reunião</label>
                <input formControlName="link" type="text" />
            </div>

            <div class="form-group">
                <label for="descricao">Descrição</label>
                <textarea formControlName="descricao" placeholder="Digite a descrição do evento" type="text"></textarea>
            </div>
        </form>
    </div>
</ng-template>
